
# 线性规划上机习题——问题2

## 1 问题重述

某工厂每日 8 小时的产量不低于 1800 件。为了进行质量控制，计划聘请两种不同水平的检验员。一级检验员的标准为：速度 25 件/小时，正确率 98%，计时工资 4 元/小时；二级检验员的标准为：速度 15 件/小时，正确率 95%，计时工资 3 元/小时。检验员每错检一次，工厂要损失 2 元。为使总检验费用最省，该工厂应聘一级、二级检验员各几名？并且，请进一步讨论：
（1）若二级检验员的正确率提高到 96%，问是否需要调整二级检验员的数目？
（2）若检验员每错检一次，工厂损失 1.5 元，是否需要调整不同检验员的数目？

## 2 变量设置

现设该工厂每日8小时的产量为 $y$ 件，每日应聘请一级检验员总工作时长为 $x_1$ （单位：小时），聘请二级检验员总工作时长为 $x_2$ （单位：小时），每日检验员出错次数为 $x_3$ （单位：次）。注：两名一级检验员同时工作 1 小时算作2 小时的工作时长。

## 3 模型建立

由题意可知，本题为整数规划问题，目标函数为 $f = 4x_1 + 3x_2 + 2x_3$ 。再考虑题目中提到的约束条件：

1. 每日产量不低于 1800 件：$y \ge 1800$
2. 每日检验工作量要求：$25x_1 + 15x_2 \ge y$.

对于随机变量 $x_3$，设 $x_3 = \xi_1 + \xi_2$，其中 $\xi_i$ 服从参数为$x_i$和 $p_i$ 的二项分布。即 $\xi_i \sim B(x_i, p_i) (i = 1, 2)$，其中由题意我们得知 $p_1 = 0.02, p_2 = 0.05$。我们用求期望的方法将其转化为确定的与 $x_1, x_2$ 有关的函数：

$$
x_3 \simeq E(x_3) = E(\xi_1) + E(\xi_2) = x_1p_1 + x_2p_2
$$

综合上述，可以建立数学模型：

$$
\begin{aligned}
min \; & f = (4+2p_1)x_1 + (3+2p_2)x_2 \\
s.t.\; & 25x_1 + 15x_2 \ge y \\
 & y \ge 1800 \\
 & x_i \ge 0, \; i = 1,2  \\
\end{aligned}
$$

### 3.1 问题求解

方法1: lingo 求解，程序代码如下：

```matlab
model:
min = (4+2*p1)*x1 + (3+2*p2)*x2;
[workload] 25*x1 + 15*x2 >= y;
[yield] y >= 1800;
[inspector1] p1 = 0.02;
[inspector2] p2 = 0.05;
end
```

运行结果：

```
    Variable           Value        Reduced Cost
          P1       0.2000000E-01        0.000000
          X1        72.00000            0.000000
          P2       0.5000000E-01        0.000000
          X2        0.000000           0.6760000
           Y        1800.000            0.000000

         Row    Slack or Surplus      Dual Price
           1        290.8800           -1.000000
    WORKLOAD        0.000000          -0.1616000
       YIELD        0.000000          -0.1616000
  INSPECTOR1        0.000000           -144.0000
  INSPECTOR2        0.000000            0.000000
```

方法2：Matlab 求解，因为不确定产量，故需多次求解。程序代码如下：

```matlab
p = [0.02 0.05];
f = [4 3] + 2*p;
A = [25 15];
lb = zeros(2,1);
ic = [1,2];
x = zeros(2, 20);
fval = zeros(20, 1);
for b = 1800:100:3000
    [x(:,b/100-17), fval(b/100-17)] = intlinprog(f, ic, -A, -b, [], [], lb, []);
end
```

运行结果如下：

```matlab
x = 
    72	76	80	84	88	92	96	100	 104	108	 112	116	 120
     0	 0	 0	 0	 0	 0	 0	  0	   0	  0	   0	  0	   0
fval = 
        290.8800
        307.0400
        323.2000
        339.3600
        355.5200
        371.6800
        387.8400
        404.0000
        420.1600
        436.3200
        452.4800
        468.6400
        484.8000
```

分析所得结果可知，当 $y = 1800$ 时，该工厂应只聘请一级检验员，根据计算结果 $x_1 = 72$ ，故在每个检验员每天都工作 8 小时的情形下，该工厂应聘请 9 名检验员。最终，期望的最小检验费用（包括因检验出错产生的亏损）为 $290.88$ 元。

更进一步地，可以看出当 $y$ 继续增加时，该工厂的招聘策略并不因此而改变。这里 matlab 仅解出 $y \in [1800, 3000]$ 内的结果。利用 lingo (range) 的结果：

```matlab
                 Objective Coefficient Ranges:
                  Current        Allowable        Allowable
Variable      Coefficient         Increase         Decrease
      X1         4.040000         1.126667         4.040000
      X2         3.100000         INFINITY        0.6760000
       Y         0.000000         INFINITY        0.1616000

                     Righthand Side Ranges:
                  Current        Allowable        Allowable
     Row              RHS         Increase         Decrease
WORKLOAD         0.000000         INFINITY         1800.000
   YIELD         1800.000         INFINITY         1800.000
```

可知在 $y \in (0, +\infty)$ 的范围，该策略都可以保证工厂取得期望下的最小检验费用。

## 4 问题延伸 

### 4.1 对于讨论1

问题：若二级检验员的正确率提高到 96%，问是否需要调整二级检验员的数目？

分析 lingo(range) 求解所得结果，其中 $x_2$ 的系数变化范围为 $(2.434, +\infty)$。而当二级检验元正确率提高至96%时，对应 $x_2$ 项的系数为 $3+2*p2 = 3.08$。故不需要调整二级检验员的数目。

### 4.2 对于讨论2

问题：若检验员每错检一次，工厂损失 1.5 元，是否需要调整不同检验员的数目？

由题意可知，原问题的目标函数在此情形下调整为 $f=(4+1.5p1)x1 + (3+1.5p2)x2$，在 $p_1, p_2$ 不因此而改变的条件下，决策变量 $x_1, x_2$ 的系数调整为 $a1 = 4.03, a_2 = 3.075$。由 lingo(range) 所得结果，可知不需要调整不同检验员的数目。

